var Photo,addListeners,canvas,ctx,grids,height,img,imgInfo,imgSrc,imgs,init,magnet,mouse,populateCanvas,render,resizeCanvas,rotateAndPaintImage,updateMouse,useGrid,width;document.body.onload=function(){setTimeout((function(){var e=document.getElementById("preload");e.classList.contains("done")||e.classList.add("done")}),1e3)},$(document).ready((function(){$(".head_burger").click((function(e){$(".head_burger, .head_menu").toggleClass("active")}))})),canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),width=canvas.width=window.innerWidth,height=canvas.height=window.innerHeight,imgSrc=canvas.dataset.image,img=new Image,useGrid=!0,imgInfo={},imgs=[],grids=[],magnet=2e3,mouse={x:1,y:0},window.addEventListener("resize",(function(){canvas.width=window.innerWidth,canvas.height=window.innerHeight,init()})),init=function(){return imgs=[],addListeners(),img.onload=function(e){var n;return imgInfo.width=e.path?e.path[0].width:e.target.width,imgInfo.height=e.path?e.path[0].height:e.target.height,n=Math.ceil(window.innerWidth/imgInfo.width)*Math.ceil(window.innerHeight/imgInfo.height),useGrid&&createGrid(),populateCanvas(14*n),canvas.classList.add("ready"),render()},img.src=imgSrc},addListeners=function(){return window.addEventListener("resize",resizeCanvas),window.addEventListener("mousemove",updateMouse),canvas.addEventListener("touchmove",render)},updateMouse=function(e){return mouse.x=e.clientX,mouse.y=e.clientY},resizeCanvas=function(){return width=canvas.width=window.innerWidth,height=canvas.height=window.innerHeight},populateCanvas=function(e){var n,t,i;for(n=0,i=[];n<=e;)t=new Photo,imgs.push(t),i.push(n++);return i},createGrid=function(){},Photo=function(){var e,n,t,i,a,r,d,o,s,h;d=17*Math.random()+12,o=imgInfo.width/d,r=imgInfo.height/d,s=window.innerWidth*Math.random(),n=s,h=window.innerHeight*Math.random(),t=h,i=0,a=0,e=Math.PI/180,this.update=function(){var e,r,d,o,g;o=s,g=h,r=mouse.x-o,d=mouse.y-g,e=Math.sqrt(r*r+d*d),s=o-r/e*magnet/e+(i=(i+(n-o)/2)/2.1),h=g-d/e*magnet/e+(a=(a+(t-g)/2)/2.2)},this.draw=function(){return rotateAndPaintImage(ctx,img,10*e,s,h,o/2,r/2,o,r)}},rotateAndPaintImage=function(e,n,t,i,a,r,d,o,s){return e.translate(i,a),e.rotate(t),e.drawImage(n,-r,-d,o,s),e.rotate(-t),e.translate(-i,-a)},render=function(){var e,n;for(e=0,n=0,ctx.clearRect(0,0,width,height);n<grids.length;)grids[n].draw(),n++;for(;e<imgs.length;)imgs[e].update(),imgs[e].draw(),e++;return requestAnimationFrame(render)},init();